      - name: Mass Enrich Exercises from Solutions
        run: |
          BASE_DIR="solutions"
          
          if [ ! -d "$BASE_DIR" ]; then
            echo "Error: Carpeta $BASE_DIR no encontrada."
            exit 1
          fi

          for TRACK_PATH in $(find "$BASE_DIR" -maxdepth 1 -mindepth 1 -type d); do
            TRACK_NAME=$(basename "$TRACK_PATH")
            
            for EXERCISE_PATH in $(find "$TRACK_PATH" -maxdepth 1 -mindepth 1 -type d); do
              SLUG=$(basename "$EXERCISE_PATH")
              
              echo "--- Recuperando biomasa de: $TRACK_NAME/$SLUG ---"
              
              # Descarga silenciosa
              exercism download --track=$TRACK_NAME --exercise=$SLUG || true
              
              # Sincronización robusta:
              # -r: recursivo (para carpetas /test o /src)
              # -u: update (solo copia si el origen es más nuevo o el destino no existe)
              # Usamos '|| true' para que el script no muera si hay un aviso de permisos
              if [ -d "$HOME/exercism/$TRACK_NAME/$SLUG" ]; then
                cp -ru $HOME/exercism/$TRACK_NAME/$SLUG/* "$BASE_DIR/$TRACK_NAME/$SLUG/" || true
              fi
            done
          done
